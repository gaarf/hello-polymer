<link rel="import" href="/bower_components/polymer/polymer.html">

<dom-module id="my-foo">

  <style>
    :host {
      display: inline-block;
      border: 1px dotted orange;
      padding: 4px;
    }

    p {
      color: green;
    }

    ul, li {
      margin: 0;
      padding: 0;
      list-style-type: none;
    }
  </style>

  <template>

    <button on-tap="incrementCount">increment <span>{{count}}</span></button>
    <button on-tap="doRemoval">remove self</button>

    <ul>
      <template is="dom-repeat" items="{{items}}">
        <li>{{item}}</li>
      </template>
    </ul>

    <a href="/assets/elements/my-foo/index.html">read about foo</a>
  </template>

</dom-module>

<script>

  Polymer({

    is: 'my-foo',

    properties: {
      count: {
        type: Number,
        value: 1
      },
      items: {
        type: Array,
        computed: 'computeItems(count)'
      }
    },

    computeItems: function (count) {
      var out = [];
      for (var i = 0; i < count; i++) {
        out.push('foo #'+i);
      };
      return out;
    },

    ready: function () {
      console.log(this, 'ready');
    },

    attached: function () {
      console.log(this, 'attached');
    },

    detached: function () {
      console.log(this, 'detached');
    },

    incrementCount: function () {
      this.count++;
    },

    doRemoval: function () {
      Polymer.dom(this.parentNode).removeChild(this);
    }

  });

</script>
